package com.example.currFair.api.servlet;

import java.io.IOException;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class MessagesServlet extends HttpServlet

{

	private static final long serialVersionUID = -9025968535441551017L;

	@Override public void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {
		doPost(req, resp);
	}

	@Override public void doPost(HttpServletRequest req, HttpServletResponse res) throws ServletException, IOException {
		
		JSONObject jObj = new JSONObject(request.getParameter("mydata")); // this parses the json
		Iterator it = jObj.keys(); //gets all the keys

		while(it.hasNext())
		{
		    String key = it.next(); // get key
		    Object o = jObj.get(key); // get value
		    session.putValue(key, o); // store in session
		}
	 
	      
	      

	}

}
